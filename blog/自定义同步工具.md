类库中存在许多可以方便使用的类，比如下面的一些内容

- FutureTask
- Semaphore
- BlockingQueue
- CountDownLatch

以上的类已经可以提供很多情况下的同步，但是有时当需要创建自己的同步机制的时候，可能就不适用了



**条件队列的使用**

- 条件谓词

> 使用wait和notifyAll的条件队列实现线程的阻塞和唤醒。这是一个复合操作：1，线程首先尝试获取锁，2，判断条件谓词的状态是否额可以使用，如果满足条件则直接执行操作并释放锁，如果不满足则wait进入阻塞状态等待被唤醒，3，被唤醒的线程重新获取锁，并执行操作

- 多个条件谓词

> 程序中被唤醒的线程其实并不一定是满足了条件，特别是在存在多个条件谓词的时候，线程被唤醒并不一定以为着条件的满足，可能仅仅只是意味者条件的改变，改变不代表满足，所以在被唤醒之后，仍旧需要检查是否满足条件，不断的检查，直到条件满足。

- 防止丢失信号，线程必须随时等待条件的到达，也就是说线程只有条件满足和阻塞两种情况



条件变量

- Condition条件：Lock接口中存在的类，可以用来作为条件变量使用

